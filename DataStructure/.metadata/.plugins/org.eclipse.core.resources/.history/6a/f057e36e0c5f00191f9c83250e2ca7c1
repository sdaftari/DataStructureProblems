// O(m+n)
public class MaximumsumPath {

	public static void main(String[] args) {
		MaximumsumPath sumpath = new MaximumsumPath();
        int ar1[] = {2, 3, 7, 10, 12, 15, 30, 34};
        int ar2[] = {1, 5, 7, 8, 10, 15, 16, 19};
        int m = ar1.length;
        int n = ar2.length;
        System.out.println("Maximum sum path is :" + 
                                       sumpath.maxPathSum(ar1, ar2, m, n));
	}
	
	int maxPathSum (int[] arr1, int[] arr2, int m, int n)
	{
		int i = 0, j = 0;
		int result = 0, s1 = 0, s2 = 0;
		
		while (i < m && j < n)
		{
			if (arr1[i] < arr2[j])
				s1 += arr1[i++];
			else if (arr2[j] < arr1[i])
				s2 += arr2[j++];
			else
			{
				// If both are equal, max of sum
				result += Math.max(s1, s2);
				
				s1 = 0; 
				s2 = 0;
				
				while (arr1[i] == arr2[j])
				{
					result += arr1[i];
					i++; j++;
				}
			}
		}
		
		while (i < m)
			result += arr1[i++];
		
		while (j < n)
			result += arr2[j++];
		
		return result;
	}
}
