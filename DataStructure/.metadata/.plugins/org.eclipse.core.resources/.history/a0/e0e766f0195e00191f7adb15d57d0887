package Medium;

public class ReplaceByX {
	
	private static String replace(String str, String pattern)
	{
	    if (pattern == null)
	        return str;
	        
	    int len = pattern.length();
	    if (len == 0)
	        return str;
	    int i = 0, j = 0; 
        int count; 
        while (j < str.length())
        {
            count = 0; 
            if (str.charAt(j) == pattern.charAt(0))
            {
	            while (isMatch(str, pattern, j) == true)
	            {
	            	j += len;
	            	str = str.substring(len); 
	//                j += len;
	                count++;
	            }
            }
            
            if (count > 0)
            {
                str = str.substring(0,i)+'X'+str.substring(i);
                j = 0;
            }
                
            // copy character at current position j 
            // to position i and increment i and j 
            
            if (j < str.length()) 
            {
//                str = str.substring(0, i) + str.charAt(j) + str.substring(i+1); 
                i++; j++;
            }
        }
        
        return str;
	}
	
	private static boolean isMatch(String str, String pattern, int strIndex)
	{
	    for (int i = 0; i < pattern.length(); i++)
	    {
	        if (str.charAt(strIndex) != pattern.charAt(i))
	            return false;
	        strIndex++;
	    }
	    
	    return true;
	}

	public static void main(String[] args) {
		String s = "abababcdefababcdab";
		String p = "ab";
		String ans = replace(s, p);
		System.out.println(ans);
	}

}
